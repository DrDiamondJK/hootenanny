<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>867-5309 Jenny 20250302</title>
  <style>
    body {
      margin: 0;
      font-family: 'Courier New', monospace;
      display: flex;
      flex-direction: row;
      height: 100vh;
      background: #f8f8f8;
    }
    .chart {
      flex: 2;
      padding: 1em;
      overflow: hidden;
      position: relative;
      background: white;
      margin: 0.5em;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .chords {
      flex: 1;
      padding: 1em;
      background: white;
      margin: 0.5em;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      overflow-y: auto;
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      gap: 1em;
      justify-items: center;
    }
    .chord-block {
      text-align: center;
      padding: 0.3em;
      border: 1px solid #ddd;
      border-radius: 6px;
      background: #fafafa;
    }
    .chord-block img {
      height: 160px;
      width: auto;
      max-width: 100%;
      display: block;
      margin: 0.3em auto;
      border: 1px solid #eee;
      border-radius: 4px;
    }
    .song-block {
      margin-bottom: 2em;
      padding: 1.5em;
      border: 1px solid #ddd;
      border-radius: 8px;
      background: #fafafa;
      max-height: 85vh;
      overflow: auto;
      line-height: 1.6;
    }
    .song-block pre {
      margin: 0;
      white-space: pre-wrap;
      font-family: inherit;
    }
    .song-block.hidden { display: none; }
    .navigation {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0,0,0,0.8);
      color: white;
      padding: 1em 1.5em;
      border-radius: 25px;
      font-size: 0.9em;
      display: flex;
      align-items: center;
      gap: 1em;
      z-index: 1000;
    }
    .nav-button {
      background: rgba(255,255,255,0.2);
      border: none;
      color: white;
      padding: 0.5em 0.8em;
      border-radius: 15px;
      cursor: pointer;
      font-size: 0.9em;
      transition: background 0.2s;
    }
    .nav-button:hover {
      background: rgba(255,255,255,0.3);
    }
    .nav-button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    .page-info {
      font-weight: bold;
      min-width: 80px;
      text-align: center;
    }
    .return-button {
      display: inline-block;
      padding: 0.75em 1.5em;
      background-color: #3498db;
      color: white;
      border-radius: 6px;
      text-decoration: none;
      font-weight: bold;
      margin: 1em 0;
      transition: background-color 0.2s;
    }
    .return-button:hover {
      background-color: #2980b9;
    }
    @media (orientation: portrait) {
      body { flex-direction: column; }
      .chart { flex: 3; }
      .chords { flex: 1; }
    }
  </style>
</head>
<body>
<!-- chart: A B D E F#m -->
<div class="chart" id="song-content">
<div class="song-block Intro"><div class="block-label">Intro</div><pre>[Intro:]
F#m(SS) D(SS) A(SS) B(SS) | F#m(SS) D(SS) A(SS) B(SS)
                                                  Hey! (2nd Beat)
F#m D A B | F#m D A B
</pre></div>

<div class="song-block Verse"><div class="block-label">Verse</div><pre>F#m       D      A         B       F#m  D  A  B
   Jenny, Jenny, who can I turn to?  
F#m            D         A          B    F#m  D  A  B
   You give me something I can hold on to.  
F#m           D         A        B         F#m  D  A  B
   I know you think I'm like the others be-fore  
F#m             D        A      B      F#m  D  A  B
   Who saw your name and number on the wall.
</pre></div>

<div class="song-block Chorus"><div class="block-label">Chorus</div><pre>E         D        A
 Jenny, I got your number;
E          A        D
 I need to make you mine.
E             D           A
 Jenny, don't change your number,

F#m          D          A       B   
   Eight six seven five three O nine.
F#m          D          A       B
   Eight six seven five three O nine.
F#m          D          A       B   
   Eight six seven five three O nine.
F#m          D          A       B 
   Eight six seven five three O nine.

F#m       D      A               B     F#m  D  A  B
   Jenny, Jenny, you're the girl for me.  </pre></div>

<div class="song-block Verse"><div class="block-label">Verse</div><pre>F#m       D      A               B     F#m  D  A  B
   Jenny, Jenny, you're the girl for me.  
F#m          D               A          B    F#m  D  A  B
   You don't know me but you make me so happy.  
F#m           D           A          B       F#m  D  A  B
   I tried to call you be-fore but I lost my nerve.     (I)
        F#m       D       A     B         F#m  D  A  B
I tried my i-magi-nation,   but I was dis-turbed.  
</pre></div>

<div class="song-block Chorus"><div class="block-label">Chorus</div><pre>E         D        A
 Jenny, I got your number;
E          A        D
 I need to make you mine.
E             D           A
 Jenny, don't change your number,

F#m          D          A       B   
   Eight six seven five three O nine.
F#m          D          A       B
   Eight six seven five three O nine.
F#m          D          A       B   
   Eight six seven five three O nine.
F#m          D          A       B      (C#m)
   Eight six seven five three O nine.

</pre></div>

<div class="song-block Bridge"><div class="block-label">Bridge</div><pre>C#m          E
   I got it,   I got it.
F#m           A              B
   I got your number off the wall.
C#m          E
   I got it,   I got it.
F#m                       A         B
   For a good time, for a good time call.

F#m(SS) D(SS) A(SS) B(SS) | F#m(SS) D(SS) A(SS) B(SS)
                                                  Hey! (2nd Beat)
F#m D A B | F#m D A B | (E)
</pre></div>

<div class="song-block Chorus"><div class="block-label">Chorus</div><pre>E             D           A
 Jenny, don't change your number,
E          A        D
 I need to make you mine.
E         D           A
 Jenny, I called your number,

F#m          D          A       B   
   Eight six seven five three O nine.
F#m          D          A       B
   Eight six seven five three O nine.
F#m          D          A       B   
   Eight six seven five three O nine.
F#m          D          A       B
   Eight six seven five three O nine.
</pre></div>

<div class="song-block Chrous"><div class="block-label">Chrous</div><pre>F#m       D      A         B       
   Jenny, Jenny, who can I turn to?  
F#m          D          A       B   
   Eight six seven five three O nine.
        F#m        D          A      B          (F#m)
For the price of a dime I can always turn to you(Eight…)

F#m          D          A       B   
   Eight six seven five three O nine.
F#m          D          A       B
   Eight six seven five three O nine.
F#m          D          A       B   
   Eight six seven five three O nine.
F#m          D          A       B
   Eight six seven five three O nine.
F#m          D          A       B(SS)
   Eight six seven five three O nine.</pre></div>
<div style="text-align: center; margin: 2em 0;">
  <a href="index.html" class="return-button">
    ← Return to Real Book
  </a>
</div>
</div>
<div class="chords" id="chord-diagrams"></div>
<div class="navigation">
  <button class="nav-button" id="prev-btn" onclick="previousPage()">← Prev</button>
  <div class="page-info">
    Page <span id="current-page">1</span> of <span id="total-pages">1</span>
  </div>
  <button class="nav-button" id="next-btn" onclick="nextPage()">Next →</button>
</div>
<script>
  const svgDir = 'svg_chords';
  const chartLine = document.body.innerHTML.match(/<!-- chart: (.+?) -->/);
  if (chartLine) {
    const chords = [...new Set(chartLine[1].trim().split(/\s+/))];
    const container = document.getElementById('chord-diagrams');
    chords.forEach(chord => {
      const safeName = chord.replace(/#/g, 'sharp').replace(/\//g, '_');
      const block = document.createElement('div');
      block.className = 'chord-block';
      block.innerHTML = `<img src="${svgDir}/${safeName}_1.svg" alt="${chord} shape 1" onerror="this.style.display='none'">
        <img src="${svgDir}/${safeName}_2.svg" alt="${chord} shape 2" onerror="this.style.display='none'">`;
      container.appendChild(block);
    });
  }

  // Improved paging system - multiple blocks per page
  const blocks = Array.from(document.querySelectorAll('.song-block'));
  let currentPageIndex = 0;
  let pages = [];
  
  function calculatePages() {
    pages = [];
    const containerHeight = window.innerHeight * 0.75; // Leave room for navigation
    let currentPage = [];
    let currentHeight = 0;
    
    blocks.forEach((block, index) => {
      // Show block temporarily to measure it
      block.style.display = 'block';
      block.style.visibility = 'hidden';
      
      const blockHeight = block.offsetHeight + 32; // Add margin
      
      // If this block would overflow the page, start a new page
      if (currentHeight + blockHeight > containerHeight && currentPage.length > 0) {
        pages.push([...currentPage]);
        currentPage = [index];
        currentHeight = blockHeight;
      } else {
        currentPage.push(index);
        currentHeight += blockHeight;
      }
      
      // Hide block again
      block.style.display = 'none';
      block.style.visibility = 'visible';
    });
    
    // Add the last page if it has content
    if (currentPage.length > 0) {
      pages.push(currentPage);
    }
  }
  
  function updateNavigation() {
    const currentPageSpan = document.getElementById('current-page');
    const totalPagesSpan = document.getElementById('total-pages');
    const prevBtn = document.getElementById('prev-btn');
    const nextBtn = document.getElementById('next-btn');
    
    if (currentPageSpan) currentPageSpan.textContent = currentPageIndex + 1;
    if (totalPagesSpan) totalPagesSpan.textContent = pages.length;
    
    if (prevBtn) prevBtn.disabled = currentPageIndex === 0;
    if (nextBtn) nextBtn.disabled = currentPageIndex === pages.length - 1;
  }

  function showPage(pageIndex) {
    // Hide all blocks
    blocks.forEach(block => {
      block.style.display = 'none';
    });
    
    // Show blocks for current page
    if (pages[pageIndex]) {
      pages[pageIndex].forEach(blockIndex => {
        blocks[blockIndex].style.display = 'block';
      });
    }
    
    updateNavigation();
  }
  
  function nextPage() {
    if (currentPageIndex < pages.length - 1) {
      currentPageIndex++;
      showPage(currentPageIndex);
    }
  }
  
  function previousPage() {
    if (currentPageIndex > 0) {
      currentPageIndex--;
      showPage(currentPageIndex);
    }
  }

  document.addEventListener('keydown', (e) => {
    console.log('Key pressed:', e.key, 'Code:', e.code); // Debug logging
    
    // Prevent default browser behavior for navigation keys
    if (['ArrowLeft', 'ArrowRight', 'ArrowUp', 'ArrowDown', 'PageUp', 'PageDown', 'Space'].includes(e.key)) {
      e.preventDefault();
    }
    
    // Navigation logic
    if (e.key === 'PageDown' || e.key === 'ArrowDown' || e.key === 'ArrowRight' || e.key === ' ') {
      nextPage();
    } else if (e.key === 'PageUp' || e.key === 'ArrowUp' || e.key === 'ArrowLeft') {
      previousPage();
    }
  });

  // Also listen for keyup events (some page turners work better with keyup)
  document.addEventListener('keyup', (e) => {
    console.log('Key released:', e.key, 'Code:', e.code); // Debug logging
    
    if (['ArrowLeft', 'ArrowRight', 'ArrowUp', 'ArrowDown', 'PageUp', 'PageDown', 'Space'].includes(e.key)) {
      e.preventDefault();
    }
  });

  // Additional event listeners for page turner compatibility
  document.addEventListener('keypress', (e) => {
    console.log('Key press:', e.key, 'Code:', e.code); // Debug logging
    e.preventDefault();
  });

  // Recalculate pages on window resize
  window.addEventListener('resize', () => {
    calculatePages();
    currentPageIndex = Math.min(currentPageIndex, pages.length - 1);
    showPage(currentPageIndex);
  });

  window.addEventListener('load', () => {
    if (blocks.length > 0) {
      calculatePages();
      showPage(currentPageIndex);
    }
  });
</script>
</body>
</html>
