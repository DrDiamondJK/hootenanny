<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>867-5309 Jenny 20250302</title>
  <style>
    body {
      margin: 0;
      font-family: 'Courier New', monospace;
      display: flex;
      flex-direction: row;
      height: 100vh;
      background: #f8f8f8;
    }
    .chart {
      flex: 2;
      padding: 1em;
      overflow: hidden;
      position: relative;
      background: white;
      margin: 0.5em;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .chords {
      flex: 1;
      padding: 1em;
      background: white;
      margin: 0.5em;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      overflow-y: auto;
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      gap: 1em;
      justify-items: center;
    }
    .chord-block {
      text-align: center;
      padding: 0.3em;
      border: 1px solid #ddd;
      border-radius: 6px;
      background: #fafafa;
    }
    .chord-block img {
      height: 160px;
      width: auto;
      max-width: 100%;
      display: block;
      margin: 0.3em auto;
      border: 1px solid #eee;
      border-radius: 4px;
    }
    .song-block {
      margin-bottom: 2em;
      padding: 2em;
      border: 1px solid #ddd;
      border-radius: 8px;
      background: #fafafa;
      line-height: 1.8;
      font-size: 1.1em;
      min-height: 70vh;
      display: none;
    }
    .song-block.active {
      display: block;
    }
    .block-label {
      font-size: 1.3em;
      font-weight: bold;
      color: #2c3e50;
      margin-bottom: 1em;
      text-transform: uppercase;
      letter-spacing: 1px;
      border-bottom: 2px solid #3498db;
      padding-bottom: 0.5em;
    }
    .song-block pre {
      margin: 0;
      white-space: pre-wrap;
      font-family: inherit;
      font-size: 1.2em;
      line-height: 1.6;
    }
    .navigation {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0,0,0,0.8);
      color: white;
      padding: 1em 1.5em;
      border-radius: 25px;
      font-size: 0.9em;
      display: flex;
      align-items: center;
      gap: 1em;
      z-index: 1000;
    }
    .nav-button {
      background: rgba(255,255,255,0.2);
      border: none;
      color: white;
      padding: 0.5em 0.8em;
      border-radius: 15px;
      cursor: pointer;
      font-size: 0.9em;
      transition: background 0.2s;
    }
    .nav-button:hover {
      background: rgba(255,255,255,0.3);
    }
    .nav-button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    .page-info {
      font-weight: bold;
      min-width: 120px;
      text-align: center;
      font-size: 0.9em;
    }
    .section-name {
      color: #3498db;
      font-weight: bold;
    }
    .return-button {
      display: inline-block;
      padding: 0.75em 1.5em;
      background-color: #3498db;
      color: white;
      border-radius: 6px;
      text-decoration: none;
      font-weight: bold;
      margin: 1em 0;
      transition: background-color 0.2s;
    }
    .return-button:hover {
      background-color: #2980b9;
    }
    .end-message {
      display: none;
      text-align: center;
      padding: 3em 2em;
      color: #7f8c8d;
      font-size: 1.1em;
    }
    .end-message.active {
      display: block;
    }
    @media (orientation: portrait) {
      body { flex-direction: column; }
      .chart { flex: 3; }
      .chords { flex: 1; }
    }
  </style>
</head>
<body>
<!-- chart: A B D E F#m -->
<div class="chart" id="song-content">
<div class="song-block"><div class="block-label">Intro</div><pre>[Intro:]
F#m(SS) D(SS) A(SS) B(SS) | F#m(SS) D(SS) A(SS) B(SS)
                                                  Hey! (2nd Beat)
F#m D A B | F#m D A B
</pre></div>

<div class="song-block"><div class="block-label">Verse</div><pre>F#m       D      A         B       F#m  D  A  B
   Jenny, Jenny, who can I turn to?  
F#m            D         A          B    F#m  D  A  B
   You give me something I can hold on to.  
F#m           D         A        B         F#m  D  A  B
   I know you think I'm like the others be-fore  
F#m             D        A      B      F#m  D  A  B
   Who saw your name and number on the wall.
</pre></div>

<div class="song-block"><div class="block-label">Chorus</div><pre>E         D        A
 Jenny, I got your number;
E          A        D
 I need to make you mine.
E             D           A
 Jenny, don't change your number,

F#m          D          A       B   
   Eight six seven five three O nine.
F#m          D          A       B
   Eight six seven five three O nine.
F#m          D          A       B   
   Eight six seven five three O nine.
F#m          D          A       B 
   Eight six seven five three O nine.
</pre></div>

<div class="song-block"><div class="block-label">Verse</div><pre>F#m       D      A               B     F#m  D  A  B
   Jenny, Jenny, you're the girl for me.  
F#m          D               A          B    F#m  D  A  B
   You don't know me but you make me so happy.  
F#m           D           A          B       F#m  D  A  B
   I tried to call you be-fore but I lost my nerve.     (I)
        F#m       D       A     B         F#m  D  A  B
I tried my i-magi-nation,   but I was dis-turbed.  
</pre></div>

<div class="song-block"><div class="block-label">Chorus</div><pre>E         D        A
 Jenny, I got your number;
E          A        D
 I need to make you mine.
E             D           A
 Jenny, don't change your number,

F#m          D          A       B   
   Eight six seven five three O nine.
F#m          D          A       B
   Eight six seven five three O nine.
F#m          D          A       B   
   Eight six seven five three O nine.
F#m          D          A       B      (C#m)
   Eight six seven five three O nine.

</pre></div>

<div class="song-block"><div class="block-label">Bridge</div><pre>C#m          E
   I got it,   I got it.
F#m           A              B
   I got your number off the wall.
C#m          E
   I got it,   I got it.
F#m                       A         B
   For a good time, for a good time call.

F#m(SS) D(SS) A(SS) B(SS) | F#m(SS) D(SS) A(SS) B(SS)
                                                  Hey! (2nd Beat)
F#m D A B | F#m D A B | (E)
</pre></div>

<div class="song-block"><div class="block-label">Chorus</div><pre>E             D           A
 Jenny, don't change your number,
E          A        D
 I need to make you mine.
E         D           A
 Jenny, I called your number,

F#m          D          A       B   
   Eight six seven five three O nine.
F#m          D          A       B
   Eight six seven five three O nine.
F#m          D          A       B   
   Eight six seven five three O nine.
F#m          D          A       B
   Eight six seven five three O nine.
</pre></div>

<div class="song-block"><div class="block-label">Chorus</div><pre>F#m       D      A         B       
   Jenny, Jenny, who can I turn to?  
F#m          D          A       B   
   Eight six seven five three O nine.
        F#m        D          A      B          (F#m)
For the price of a dime I can always turn to you(Eight‚Ä¶)

F#m          D          A       B   
   Eight six seven five three O nine.
F#m          D          A       B
   Eight six seven five three O nine.
F#m          D          A       B   
   Eight six seven five three O nine.
F#m          D          A       B
   Eight six seven five three O nine.
F#m          D          A       B(SS)
   Eight six seven five three O nine.</pre></div>
<div class="end-message" id="end-message">
  <h2>üéµ Song Complete</h2>
  <p>You've reached the end of this song.</p>
  <div style="text-align: center; margin: 2em 0;">
    <a href="index.html" class="return-button">
      ‚Üê Return to Real Book
    </a>
  </div>
</div>
</div>
<div class="chords" id="chord-diagrams"></div>
<div class="navigation">
  <button class="nav-button" id="prev-btn" onclick="previousBlock()">‚Üê Prev</button>
  <div class="page-info">
    <span class="section-name" id="current-section">-</span><br>
    <span id="current-page">1</span> of <span id="total-pages">1</span>
  </div>
  <button class="nav-button" id="next-btn" onclick="nextBlock()">Next ‚Üí</button>
</div>
<script>
  const svgDir = 'svg_chords';
  const chartLine = document.body.innerHTML.match(/<!-- chart: (.+?) -->/);
  if (chartLine) {
    const chords = [...new Set(chartLine[1].trim().split(/\s+/))];
    const container = document.getElementById('chord-diagrams');
    chords.forEach(chord => {
      const safeName = chord.replace(/#/g, 'sharp').replace(/\//g, '_');
      const block = document.createElement('div');
      block.className = 'chord-block';
      block.innerHTML = `<div style="font-weight: bold; margin-bottom: 0.3em;">${chord}</div>
        <img src="${svgDir}/${safeName}_1.svg" alt="${chord} shape 1" onerror="this.style.display='none'">
        <img src="${svgDir}/${safeName}_2.svg" alt="${chord} shape 2" onerror="this.style.display='none'">`;
      container.appendChild(block);
    });
  }

  // Simple block-based paging - one song block per page
  const blocks = Array.from(document.querySelectorAll('.song-block'));
  const endMessage = document.getElementById('end-message');
  let currentBlockIndex = 0;
  
  // Extract section names from block labels
  const sectionNames = blocks.map(block => {
    const label = block.querySelector('.block-label');
    return label ? label.textContent.trim() : 'Section';
  });
  
  function updateNavigation() {
    const currentPageSpan = document.getElementById('current-page');
    const totalPagesSpan = document.getElementById('total-pages');
    const currentSectionSpan = document.getElementById('current-section');
    const prevBtn = document.getElementById('prev-btn');
    const nextBtn = document.getElementById('next-btn');
    
    if (currentPageSpan) currentPageSpan.textContent = currentBlockIndex + 1;
    if (totalPagesSpan) totalPagesSpan.textContent = blocks.length;
    if (currentSectionSpan) {
      currentSectionSpan.textContent = sectionNames[currentBlockIndex] || 'Section';
    }
    
    if (prevBtn) prevBtn.disabled = currentBlockIndex === 0;
    if (nextBtn) nextBtn.disabled = currentBlockIndex >= blocks.length;
  }

  function showBlock(blockIndex) {
    console.log(`Showing block ${blockIndex + 1} of ${blocks.length}`);
    
    // Hide all blocks and end message
    blocks.forEach(block => block.classList.remove('active'));
    endMessage.classList.remove('active');
    
    // Show current block or end message
    if (blockIndex < blocks.length) {
      blocks[blockIndex].classList.add('active');
    } else {
      endMessage.classList.add('active');
    }
    
    updateNavigation();
  }
  
  function nextBlock() {
    console.log('Next block requested');
    if (currentBlockIndex < blocks.length) {
      currentBlockIndex++;
      showBlock(currentBlockIndex);
    }
  }
  
  function previousBlock() {
    console.log('Previous block requested');
    if (currentBlockIndex > 0) {
      currentBlockIndex--;
      showBlock(currentBlockIndex);
    }
  }

  // Enhanced keyboard event handling for page turners
  document.addEventListener('keydown', (e) => {
    console.log('Key down:', e.key, 'Code:', e.code, 'Which:', e.which);
    
    // Prevent default browser behavior for navigation keys
    const navKeys = ['ArrowLeft', 'ArrowRight', 'ArrowUp', 'ArrowDown', 'PageUp', 'PageDown', 'Space'];
    if (navKeys.includes(e.key)) {
      e.preventDefault();
      e.stopPropagation();
    }
    
    // Navigation logic - forward
    if (e.key === 'PageDown' || e.key === 'ArrowDown' || e.key === 'ArrowRight' || 
        e.key === ' ' || e.which === 34 || e.which === 40 || e.which === 39 || e.which === 32) {
      nextBlock();
    }
    // Navigation logic - backward  
    else if (e.key === 'PageUp' || e.key === 'ArrowUp' || e.key === 'ArrowLeft' ||
             e.which === 33 || e.which === 38 || e.which === 37) {
      previousBlock();
    }
  });

  // Also handle keyup events (some page turners work on keyup)
  document.addEventListener('keyup', (e) => {
    console.log('Key up:', e.key, 'Code:', e.code, 'Which:', e.which);
    
    const navKeys = ['ArrowLeft', 'ArrowRight', 'ArrowUp', 'ArrowDown', 'PageUp', 'PageDown', 'Space'];
    if (navKeys.includes(e.key)) {
      e.preventDefault();
      e.stopPropagation();
    }
  });

  // Handle keypress events
  document.addEventListener('keypress', (e) => {
    console.log('Key press:', e.key, 'Code:', e.code, 'Which:', e.which);
    
    const navKeys = ['ArrowLeft', 'ArrowRight', 'ArrowUp', 'ArrowDown', 'PageUp', 'PageDown', 'Space'];
    if (navKeys.includes(e.key) || e.which === 32) {
      e.preventDefault();
      e.stopPropagation();
    }
  });

  // Initialize - show first block
  window.addEventListener('load', () => {
    console.log(`Loaded song with ${blocks.length} blocks`);
    if (blocks.length > 0) {
      showBlock(currentBlockIndex);
    }
  });
</script>
</body>
</html>
